{% extends './base.html' %} {% load static %} {% load humanize %}
{% block navbar_class %}navbar-dark bg-black{% endblock %}

{% block content %}
<div class="container-fluid banner py-5 px-4">
  <div class="row align-items-center">
    <div class="col-md-4 text-md-start mb-4 ml-md-5 mb-md-0">
      <h1 class="display-3 font-weight-bold">Welcome to ShopHive</h1>
      <p class="h4 mb-4 text-secondary">Your one-stop shop for all your needs.</p>
      <p class="lead">
        Discover a wide range of products tailored to suit your lifestyle. From
        the latest electronics to everyday essentials, we have something for
        everyone. Enjoy exclusive deals and fast shipping right to your
        doorstep.
      </p>
      <a href="{% url 'app:products' %}" class="btn btn-black border-white btn-lg px-4 py-2 shadow">Shop Now</a>
    </div>
    <div class="col-md-7">
      <img
        src="{% static 'img/banner.jpg' %}"
        alt="Banner Image"
        class="img-fluid rounded shadow"
      />
    </div>
  </div>
  
  <!-- Categories Section -->
  <div class="d-none d-md-flex row mt-5 text-center">
    <div class="col-6 col-md">
      <a href="http://127.0.0.1:8000/products/?query=&category=Electronics" class="category-link text-white h5 p-3 rounded border border-light">Electronics</a>
    </div>
    <div class="col-6 col-md">
      <a href="http://127.0.0.1:8000/products/?query=&category=Clothing" class="category-link text-white h5 p-3 rounded border border-light">Clothing</a>
    </div>
    <div class="col-6 col-md">
      <a href="http://127.0.0.1:8000/products/?query=&category=Sports" class="category-link text-white h5 p-3 rounded border border-light">Sports</a>
    </div>
    <div class="col-6 col-md">
      <a href="http://127.0.0.1:8000/products/?query=&category=Books" class="category-link text-white h5 p-3 rounded border border-light">Books</a>
    </div>
    <div class="col-6 col-md">
      <a href="http://127.0.0.1:8000/products/?query=&category=Furniture" class="category-link text-white h5 p-3 rounded border border-light">Furniture</a>
    </div>
  </div>
  
</div>

<br>
<!-- Featured Products Section -->
<div class="container mt-5">
  <h2 class="text-center mb-4">Featured Products</h2>
  <div class="row">
    {% for product in featured_products %}
    <div class="col-md-4 mb-4">
      <div class="card h-100 shadow-sm">
        <a href="{% url 'app:product_detail' product.id %}">
          <img
            class="card-img-top"
            src="{{ product.images.first.image.url }}"
            alt="{{ product.name }}"
            style="object-fit: contain; max-height: 200px"
          />
        </a>
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">
            <a
              class="text-dark"
              href="{% url 'app:product_detail' product.id %}"
              >{{ product.name }}</a
            >
          </h5>
          <p class="card-text text-muted">{{ product.category }}</p>
          <p>
            {% if product.is_on_sale %}
            <span style="text-decoration: line-through" class="h5"
              >₹{{ product.price|floatformat:2 }}</span
            >
            <span class="h5">₹{{ product.sale_price|floatformat:2|intcomma }}</span>
            {% else %}
            <span class="h5">₹{{ product.price|floatformat:2|intcomma }}</span>
            {% endif %}
          </p>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>

<!-- On-Sale Products Section -->
<div class="container mt-5">
  <h2 class="text-center mb-4">On-Sale Products</h2>
  <div class="row">
    {% for product in on_sale_products %}
    <div class="col-md-4 mb-4">
      <div class="card h-100 shadow-sm">
        <a href="{% url 'app:product_detail' product.id %}">
          <img
            class="card-img-top"
            src="{{ product.images.first.image.url }}"
            alt="{{ product.name }}"
            style="object-fit: contain; max-height: 200px"
          />
        </a>
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">
            <a
              class="text-dark"
              href="{% url 'app:product_detail' product.id %}"
              >{{ product.name }}</a
            >
          </h5>
          <p class="card-text text-muted">{{ product.category }}</p>
          <p>
            <span style="text-decoration: line-through" class="h5"
              >₹{{ product.price|floatformat:2|intcomma }}</span
            >
            <span class="h5">₹{{ product.sale_price|floatformat:2|intcomma }}</span>
          </p>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>

<!-- Recently Added Products Section -->
<div class="container mt-5">
  <h2 class="text-center mb-4">Recently Added Products</h2>
  <div class="row">
    {% for product in recently_added_products %}
    <div class="col-md-4 mb-4">
      <div class="card h-100 shadow-sm">
        <a href="{% url 'app:product_detail' product.id %}">
          <img
            class="card-img-top"
            src="{{ product.images.first.image.url }}"
            alt="{{ product.name }}"
            style="object-fit: contain; max-height: 200px"
          />
        </a>
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">
            <a
              class="text-dark"
              href="{% url 'app:product_detail' product.id %}"
              >{{ product.name }}</a
            >
          </h5>
          <p class="card-text text-muted">{{ product.category }}</p>
          <p>
            {% if product.is_on_sale %}
            <span style="text-decoration: line-through" class="h5"
              >₹{{ product.price|floatformat:2 }}</span
            >
            <span class="h5">₹{{ product.sale_price|floatformat:2|intcomma }}</span>
            {% else %}
            <span class="h5">₹{{ product.price|floatformat:2|intcomma }}</span>
            {% endif %}
          </p>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>

{% endblock %}
